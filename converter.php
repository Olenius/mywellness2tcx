<?php


const DT_FORMAT = 'Y-m-d\TH:i:s\Z';

const TDC_NS = 'http://www.garmin.com/xmlschemas/TrainingCenterDatabase/v2';
const TPX_NS = 'http://www.garmin.com/xmlschemas/ActivityExtension/v2';

$testJson = '{"data":{"analitics":{"descriptor":[{"i":0,"pr":{"name":"Power","um":"Watt"}},{"i":1,"pr":{"name":"Rpm","um":"Rpm"}},{"i":2,"pr":{"name":"Speed","um":"Km_h"}},{"i":3,"pr":{"name":"HDistance","um":"Meter"}},{"i":4,"pr":{"name":"Level","um":"Number"}}],"samples":[{"vs":[39.0,76.0,13.0,200.0,2.0],"t":0},{"vs":[41.0,78.0,13.0,300.0,2.0],"t":5},{"vs":[44.0,82.0,14.0,300.0,2.0],"t":10},{"vs":[49.0,92.0,15.0,300.0,2.0],"t":15},{"vs":[51.0,90.0,15.0,300.0,5.0],"t":20},{"vs":[90.0,84.0,21.0,400.0,6.0],"t":25},{"vs":[82.0,76.0,20.0,400.0,6.0],"t":30},{"vs":[83.0,78.0,20.0,400.0,6.0],"t":35},{"vs":[83.0,79.0,20.0,400.0,6.0],"t":40},{"vs":[88.0,77.0,21.0,500.0,6.0],"t":45},{"vs":[77.0,79.0,19.0,500.0,6.0],"t":50},{"vs":[88.0,79.0,21.0,500.0,6.0],"t":55},{"vs":[82.0,82.0,20.0,600.0,6.0],"t":60},{"vs":[87.0,74.0,21.0,600.0,6.0],"t":65},{"vs":[71.0,76.0,18.0,600.0,6.0],"t":70},{"vs":[83.0,76.0,20.0,600.0,6.0],"t":75},{"vs":[66.0,67.0,18.0,700.0,6.0],"t":80},{"vs":[75.0,79.0,19.0,700.0,6.0],"t":85},{"vs":[98.0,86.0,22.0,700.0,6.0],"t":90},{"vs":[105.0,90.0,23.0,800.0,6.0],"t":95},{"vs":[100.0,88.0,22.0,800.0,6.0],"t":100},{"vs":[104.0,89.0,23.0,800.0,6.0],"t":105},{"vs":[106.0,91.0,23.0,800.0,6.0],"t":110},{"vs":[114.0,91.0,24.0,900.0,6.0],"t":115},{"vs":[112.0,92.0,23.0,900.0,6.0],"t":120},{"vs":[109.0,88.0,23.0,900.0,6.0],"t":125},{"vs":[100.0,87.0,22.0,1000.0,6.0],"t":130},{"vs":[101.0,84.0,22.0,1000.0,6.0],"t":135},{"vs":[89.0,80.0,21.0,1000.0,6.0],"t":140},{"vs":[87.0,79.0,21.0,1100.0,6.0],"t":145},{"vs":[78.0,70.0,19.0,1100.0,6.0],"t":150},{"vs":[75.0,41.0,19.0,1100.0,6.0],"t":155},{"vs":[0.0,0.0,0.0,1100.0,1.0],"t":160},{"vs":[57.0,75.0,16.0,1200.0,6.0],"t":165},{"vs":[85.0,80.0,20.0,1200.0,6.0],"t":170},{"vs":[91.0,84.0,21.0,1200.0,6.0],"t":175},{"vs":[93.0,83.0,21.0,1200.0,6.0],"t":180},{"vs":[105.0,88.0,23.0,1300.0,6.0],"t":185},{"vs":[99.0,88.0,22.0,1300.0,6.0],"t":190},{"vs":[108.0,91.0,23.0,1300.0,6.0],"t":195},{"vs":[101.0,89.0,22.0,1400.0,6.0],"t":200},{"vs":[96.0,85.0,22.0,1400.0,6.0],"t":205},{"vs":[99.0,88.0,22.0,1400.0,6.0],"t":210},{"vs":[100.0,86.0,22.0,1500.0,6.0],"t":215},{"vs":[102.0,90.0,22.0,1500.0,6.0],"t":220},{"vs":[100.0,87.0,22.0,1500.0,6.0],"t":225},{"vs":[102.0,90.0,22.0,1600.0,6.0],"t":230},{"vs":[103.0,89.0,22.0,1600.0,6.0],"t":235},{"vs":[100.0,87.0,22.0,1600.0,6.0],"t":240},{"vs":[89.0,82.0,21.0,1700.0,6.0],"t":245},{"vs":[98.0,87.0,22.0,1700.0,6.0],"t":250},{"vs":[92.0,81.0,21.0,1700.0,6.0],"t":255},{"vs":[89.0,80.0,21.0,1700.0,6.0],"t":260},{"vs":[90.0,78.0,21.0,1800.0,6.0],"t":265},{"vs":[88.0,82.0,21.0,1800.0,6.0],"t":270},{"vs":[81.0,76.0,20.0,1800.0,6.0],"t":275},{"vs":[83.0,80.0,20.0,1900.0,6.0],"t":280},{"vs":[85.0,79.0,20.0,1900.0,6.0],"t":285},{"vs":[90.0,79.0,21.0,1900.0,6.0],"t":290},{"vs":[87.0,80.0,21.0,1900.0,6.0],"t":295},{"vs":[89.0,81.0,21.0,2000.0,6.0],"t":300},{"vs":[85.0,81.0,20.0,2000.0,6.0],"t":305},{"vs":[94.0,84.0,21.0,2000.0,6.0],"t":310},{"vs":[95.0,83.0,22.0,2100.0,6.0],"t":315},{"vs":[92.0,82.0,21.0,2100.0,6.0],"t":320},{"vs":[93.0,84.0,21.0,2100.0,6.0],"t":325},{"vs":[91.0,81.0,21.0,2200.0,6.0],"t":330},{"vs":[89.0,85.0,21.0,2200.0,6.0],"t":335},{"vs":[97.0,86.0,22.0,2200.0,6.0],"t":340},{"vs":[114.0,92.0,24.0,2200.0,6.0],"t":345},{"vs":[102.0,90.0,22.0,2300.0,6.0],"t":350},{"vs":[110.0,88.0,23.0,2300.0,6.0],"t":355},{"vs":[107.0,90.0,23.0,2300.0,6.0],"t":360},{"vs":[101.0,88.0,22.0,2400.0,6.0],"t":365},{"vs":[103.0,89.0,22.0,2400.0,6.0],"t":375},{"vs":[103.0,88.0,22.0,2500.0,6.0],"t":380},{"vs":[100.0,87.0,22.0,2500.0,6.0],"t":385},{"vs":[101.0,87.0,22.0,2500.0,6.0],"t":390},{"vs":[102.0,89.0,22.0,2600.0,6.0],"t":395},{"vs":[102.0,87.0,22.0,2600.0,6.0],"t":400},{"vs":[95.0,82.0,22.0,2600.0,6.0],"t":405},{"vs":[98.0,88.0,22.0,2700.0,6.0],"t":410},{"vs":[110.0,83.0,23.0,2700.0,7.0],"t":415},{"vs":[133.0,83.0,25.0,2700.0,7.0],"t":420},{"vs":[133.0,82.0,25.0,2800.0,7.0],"t":425},{"vs":[135.0,85.0,26.0,2800.0,7.0],"t":430},{"vs":[140.0,84.0,26.0,2900.0,7.0],"t":440},{"vs":[131.0,82.0,25.0,2900.0,7.0],"t":445},{"vs":[131.0,83.0,25.0,2900.0,7.0],"t":450},{"vs":[131.0,82.0,25.0,3000.0,7.0],"t":455},{"vs":[132.0,83.0,25.0,3000.0,7.0],"t":460},{"vs":[128.0,82.0,25.0,3100.0,7.0],"t":465},{"vs":[127.0,79.0,25.0,3100.0,7.0],"t":470},{"vs":[130.0,83.0,25.0,3100.0,7.0],"t":475},{"vs":[138.0,84.0,26.0,3200.0,7.0],"t":480},{"vs":[135.0,84.0,26.0,3200.0,7.0],"t":485},{"vs":[140.0,84.0,26.0,3300.0,7.0],"t":495},{"vs":[140.0,85.0,26.0,3300.0,7.0],"t":505},{"vs":[143.0,86.0,26.0,3400.0,7.0],"t":510},{"vs":[141.0,86.0,26.0,3400.0,7.0],"t":515},{"vs":[144.0,86.0,26.0,3500.0,7.0],"t":520},{"vs":[138.0,85.0,26.0,3500.0,7.0],"t":525},{"vs":[155.0,93.0,27.0,3500.0,7.0],"t":530},{"vs":[164.0,92.0,28.0,3600.0,7.0],"t":535},{"vs":[172.0,96.0,29.0,3600.0,7.0],"t":540},{"vs":[166.0,94.0,28.0,3600.0,7.0],"t":545},{"vs":[158.0,90.0,28.0,3700.0,7.0],"t":550},{"vs":[153.0,91.0,27.0,3700.0,7.0],"t":555},{"vs":[162.0,93.0,28.0,3800.0,7.0],"t":560},{"vs":[168.0,93.0,28.0,3800.0,7.0],"t":565},{"vs":[184.0,101.0,30.0,3800.0,7.0],"t":570},{"vs":[192.0,100.0,30.0,3900.0,7.0],"t":575},{"vs":[183.0,96.0,29.0,3900.0,7.0],"t":580},{"vs":[195.0,103.0,30.0,4000.0,7.0],"t":585},{"vs":[196.0,103.0,30.0,4000.0,7.0],"t":590},{"vs":[189.0,102.0,30.0,4100.0,7.0],"t":595},{"vs":[192.0,103.0,30.0,4100.0,7.0],"t":600},{"vs":[209.0,106.0,31.0,4100.0,7.0],"t":605},{"vs":[209.0,102.0,31.0,4200.0,7.0],"t":610},{"vs":[189.0,99.0,30.0,4200.0,7.0],"t":615},{"vs":[175.0,95.0,29.0,4300.0,7.0],"t":620},{"vs":[181.0,97.0,29.0,4300.0,7.0],"t":625},{"vs":[175.0,94.0,29.0,4300.0,7.0],"t":630},{"vs":[173.0,94.0,29.0,4400.0,7.0],"t":635},{"vs":[162.0,94.0,28.0,4400.0,7.0],"t":640},{"vs":[180.0,100.0,29.0,4500.0,7.0],"t":645},{"vs":[191.0,98.0,30.0,4500.0,7.0],"t":650},{"vs":[181.0,97.0,29.0,4600.0,7.0],"t":655},{"vs":[180.0,93.0,29.0,4600.0,7.0],"t":660},{"vs":[174.0,95.0,29.0,4600.0,7.0],"t":665},{"vs":[169.0,97.0,28.0,4700.0,7.0],"t":670},{"vs":[179.0,97.0,29.0,4700.0,7.0],"t":675},{"vs":[170.0,94.0,28.0,4800.0,7.0],"t":680},{"vs":[144.0,92.0,26.0,4800.0,7.0],"t":685},{"vs":[132.0,79.0,25.0,4800.0,7.0],"t":690},{"vs":[129.0,81.0,25.0,4900.0,7.0],"t":695},{"vs":[132.0,81.0,25.0,4900.0,7.0],"t":700},{"vs":[123.0,82.0,25.0,4900.0,7.0],"t":705},{"vs":[157.0,88.0,27.0,5000.0,7.0],"t":710},{"vs":[183.0,83.0,29.0,5000.0,9.0],"t":715},{"vs":[200.0,70.0,31.0,5100.0,9.0],"t":720},{"vs":[190.0,69.0,30.0,5100.0,9.0],"t":725},{"vs":[190.0,71.0,30.0,5100.0,9.0],"t":730},{"vs":[188.0,70.0,30.0,5200.0,9.0],"t":735},{"vs":[219.0,74.0,32.0,5200.0,10.0],"t":740},{"vs":[250.0,64.0,34.0,5300.0,11.0],"t":745},{"vs":[243.0,64.0,33.0,5300.0,11.0],"t":750},{"vs":[234.0,63.0,33.0,5400.0,11.0],"t":755},{"vs":[235.0,65.0,33.0,5400.0,11.0],"t":760},{"vs":[223.0,62.0,32.0,5500.0,11.0],"t":765},{"vs":[214.0,61.0,32.0,5500.0,11.0],"t":770},{"vs":[234.0,62.0,33.0,5600.0,11.0],"t":775},{"vs":[233.0,63.0,33.0,5600.0,11.0],"t":780},{"vs":[217.0,61.0,32.0,5600.0,11.0],"t":785},{"vs":[193.0,57.0,30.0,5700.0,11.0],"t":790},{"vs":[233.0,62.0,33.0,5700.0,11.0],"t":795},{"vs":[224.0,61.0,32.0,5800.0,11.0],"t":800},{"vs":[217.0,61.0,32.0,5800.0,11.0],"t":805},{"vs":[218.0,60.0,32.0,5900.0,11.0],"t":810},{"vs":[228.0,62.0,32.0,5900.0,11.0],"t":815},{"vs":[190.0,57.0,30.0,6000.0,11.0],"t":820},{"vs":[188.0,61.0,30.0,6000.0,10.0],"t":825},{"vs":[192.0,61.0,30.0,6000.0,10.0],"t":830},{"vs":[194.0,60.0,30.0,6100.0,10.0],"t":835},{"vs":[177.0,60.0,29.0,6100.0,10.0],"t":840},{"vs":[182.0,58.0,29.0,6200.0,10.0],"t":845},{"vs":[201.0,62.0,31.0,6200.0,10.0],"t":850},{"vs":[195.0,61.0,30.0,6200.0,10.0],"t":855},{"vs":[201.0,62.0,31.0,6300.0,10.0],"t":860},{"vs":[201.0,63.0,31.0,6300.0,10.0],"t":865},{"vs":[207.0,62.0,31.0,6400.0,10.0],"t":870},{"vs":[197.0,62.0,30.0,6400.0,10.0],"t":875},{"vs":[206.0,62.0,31.0,6500.0,10.0],"t":880},{"vs":[200.0,62.0,31.0,6500.0,10.0],"t":885},{"vs":[199.0,63.0,31.0,6600.0,10.0],"t":890},{"vs":[196.0,62.0,30.0,6600.0,10.0],"t":895},{"vs":[191.0,60.0,30.0,6600.0,10.0],"t":900},{"vs":[163.0,54.0,28.0,6700.0,10.0],"t":905},{"vs":[174.0,63.0,29.0,6700.0,10.0],"t":910},{"vs":[207.0,64.0,31.0,6800.0,10.0],"t":915},{"vs":[189.0,57.0,30.0,6800.0,9.0],"t":920},{"vs":[105.0,69.0,23.0,6800.0,7.0],"t":925},{"vs":[108.0,73.0,23.0,6900.0,7.0],"t":930},{"vs":[108.0,71.0,23.0,6900.0,7.0],"t":935},{"vs":[112.0,71.0,23.0,6900.0,7.0],"t":940},{"vs":[115.0,76.0,24.0,7000.0,7.0],"t":945},{"vs":[112.0,71.0,23.0,7000.0,7.0],"t":950},{"vs":[118.0,76.0,24.0,7000.0,7.0],"t":955},{"vs":[132.0,78.0,25.0,7100.0,7.0],"t":960},{"vs":[123.0,78.0,25.0,7100.0,7.0],"t":965},{"vs":[124.0,77.0,25.0,7100.0,7.0],"t":970},{"vs":[131.0,78.0,25.0,7200.0,7.0],"t":975},{"vs":[130.0,78.0,25.0,7200.0,7.0],"t":980},{"vs":[146.0,85.0,27.0,7300.0,7.0],"t":985},{"vs":[149.0,85.0,27.0,7300.0,7.0],"t":990},{"vs":[152.0,85.0,27.0,7300.0,7.0],"t":995},{"vs":[206.0,84.0,31.0,7400.0,9.0],"t":1000},{"vs":[238.0,89.0,33.0,7400.0,9.0],"t":1005},{"vs":[254.0,84.0,34.0,7500.0,10.0],"t":1010},{"vs":[308.0,86.0,37.0,7500.0,10.0],"t":1015},{"vs":[301.0,85.0,36.0,7600.0,10.0],"t":1020},{"vs":[270.0,80.0,35.0,7600.0,10.0],"t":1025},{"vs":[280.0,78.0,35.0,7700.0,10.0],"t":1030},{"vs":[267.0,80.0,35.0,7700.0,10.0],"t":1035},{"vs":[282.0,82.0,35.0,7800.0,10.0],"t":1040},{"vs":[242.0,74.0,33.0,7800.0,10.0],"t":1045},{"vs":[208.0,69.0,31.0,7900.0,10.0],"t":1050},{"vs":[301.0,91.0,36.0,7900.0,10.0],"t":1055},{"vs":[471.0,110.0,44.0,8000.0,10.0],"t":1060},{"vs":[508.0,116.0,45.0,8000.0,10.0],"t":1065},{"vs":[502.0,114.0,45.0,8100.0,10.0],"t":1070},{"vs":[358.0,94.0,39.0,8100.0,10.0],"t":1075},{"vs":[109.0,60.0,23.0,8200.0,8.0],"t":1080},{"vs":[102.0,74.0,22.0,8200.0,7.0],"t":1085},{"vs":[102.0,73.0,22.0,8300.0,7.0],"t":1090},{"vs":[125.0,82.0,25.0,8300.0,7.0],"t":1095},{"vs":[159.0,79.0,28.0,8300.0,9.0],"t":1100},{"vs":[131.0,59.0,25.0,8400.0,9.0],"t":1105},{"vs":[105.0,57.0,23.0,8400.0,9.0],"t":1110},{"vs":[117.0,56.0,24.0,8400.0,9.0],"t":1115},{"vs":[158.0,67.0,28.0,8500.0,10.0],"t":1120},{"vs":[199.0,66.0,31.0,8500.0,10.0],"t":1125},{"vs":[282.0,81.0,35.0,8500.0,10.0],"t":1130},{"vs":[250.0,67.0,34.0,8600.0,10.0],"t":1135},{"vs":[279.0,84.0,35.0,8600.0,10.0],"t":1140},{"vs":[233.0,70.0,33.0,8700.0,10.0],"t":1145},{"vs":[239.0,75.0,33.0,8700.0,10.0],"t":1150},{"vs":[251.0,80.0,34.0,8800.0,9.0],"t":1155},{"vs":[209.0,75.0,31.0,8800.0,9.0],"t":1160},{"vs":[219.0,74.0,32.0,8900.0,9.0],"t":1165},{"vs":[205.0,72.0,31.0,8900.0,9.0],"t":1170},{"vs":[221.0,69.0,32.0,9000.0,9.0],"t":1175},{"vs":[195.0,71.0,30.0,9000.0,9.0],"t":1180},{"vs":[201.0,70.0,31.0,9100.0,9.0],"t":1185},{"vs":[138.0,58.0,26.0,9100.0,9.0],"t":1190},{"vs":[139.0,62.0,26.0,9100.0,9.0],"t":1195},{"vs":[116.0,51.0,24.0,9200.0,9.0],"t":1200},{"vs":[99.0,48.0,22.0,9200.0,9.0],"t":1205},{"vs":[116.0,55.0,24.0,9200.0,9.0],"t":1210},{"vs":[109.0,49.0,23.0,9300.0,9.0],"t":1215},{"vs":[115.0,59.0,24.0,9300.0,9.0],"t":1220},{"vs":[148.0,56.0,27.0,9300.0,10.0],"t":1225},{"vs":[134.0,58.0,26.0,9400.0,10.0],"t":1230},{"vs":[128.0,55.0,25.0,9400.0,10.0],"t":1235},{"vs":[132.0,57.0,25.0,9400.0,10.0],"t":1240},{"vs":[147.0,57.0,27.0,9500.0,10.0],"t":1245},{"vs":[133.0,54.0,25.0,9500.0,10.0],"t":1250},{"vs":[143.0,56.0,26.0,9500.0,10.0],"t":1255},{"vs":[126.0,49.0,25.0,9600.0,11.0],"t":1260},{"vs":[157.0,52.0,27.0,9600.0,11.0],"t":1265},{"vs":[161.0,53.0,28.0,9700.0,11.0],"t":1270},{"vs":[157.0,53.0,27.0,9700.0,11.0],"t":1275},{"vs":[185.0,54.0,30.0,9700.0,12.0],"t":1280},{"vs":[192.0,51.0,30.0,9800.0,12.0],"t":1285},{"vs":[200.0,52.0,31.0,9800.0,12.0],"t":1290},{"vs":[175.0,47.0,29.0,9900.0,12.0],"t":1295},{"vs":[202.0,53.0,31.0,9900.0,13.0],"t":1300},{"vs":[216.0,51.0,32.0,10000.0,13.0],"t":1305},{"vs":[200.0,51.0,31.0,10000.0,13.0],"t":1310},{"vs":[212.0,50.0,31.0,10000.0,13.0],"t":1315},{"vs":[202.0,50.0,31.0,10100.0,13.0],"t":1320},{"vs":[164.0,45.0,28.0,10100.0,13.0],"t":1325},{"vs":[212.0,51.0,31.0,10200.0,13.0],"t":1330},{"vs":[217.0,50.0,32.0,10200.0,13.0],"t":1335},{"vs":[138.0,41.0,26.0,10300.0,13.0],"t":1340},{"vs":[171.0,43.0,29.0,10300.0,14.0],"t":1345},{"vs":[213.0,48.0,31.0,10300.0,14.0],"t":1350},{"vs":[248.0,51.0,34.0,10400.0,14.0],"t":1355},{"vs":[256.0,51.0,34.0,10400.0,14.0],"t":1360},{"vs":[246.0,51.0,33.0,10500.0,14.0],"t":1365},{"vs":[248.0,51.0,34.0,10500.0,14.0],"t":1370},{"vs":[248.0,48.0,34.0,10600.0,14.0],"t":1375},{"vs":[104.0,52.0,23.0,10600.0,7.0],"t":1380},{"vs":[82.0,71.0,20.0,10600.0,6.0],"t":1385},{"vs":[68.0,62.0,18.0,10700.0,6.0],"t":1390},{"vs":[78.0,72.0,19.0,10700.0,6.0],"t":1395},{"vs":[83.0,75.0,20.0,10700.0,6.0],"t":1400},{"vs":[98.0,75.0,22.0,10800.0,6.0],"t":1405},{"vs":[90.0,72.0,21.0,10800.0,6.0],"t":1410},{"vs":[84.0,73.0,20.0,10800.0,6.0],"t":1415},{"vs":[98.0,86.0,22.0,10800.0,6.0],"t":1420},{"vs":[130.0,82.0,25.0,10900.0,7.0],"t":1425},{"vs":[180.0,79.0,29.0,10900.0,9.0],"t":1430},{"vs":[231.0,88.0,33.0,11000.0,9.0],"t":1435},{"vs":[225.0,85.0,32.0,11000.0,9.0],"t":1440},{"vs":[232.0,86.0,33.0,11100.0,9.0],"t":1445},{"vs":[188.0,70.0,30.0,11100.0,9.0],"t":1450},{"vs":[181.0,72.0,29.0,11100.0,9.0],"t":1455},{"vs":[204.0,72.0,31.0,11200.0,10.0],"t":1460},{"vs":[198.0,66.0,30.0,11200.0,10.0],"t":1465},{"vs":[220.0,72.0,32.0,11300.0,10.0],"t":1470},{"vs":[227.0,81.0,32.0,11300.0,9.0],"t":1475},{"vs":[215.0,76.0,32.0,11400.0,9.0],"t":1480},{"vs":[253.0,86.0,34.0,11400.0,9.0],"t":1485},{"vs":[239.0,67.0,33.0,11400.0,9.0],"t":1490},{"vs":[149.0,62.0,27.0,11500.0,9.0],"t":1495},{"vs":[163.0,70.0,28.0,11500.0,9.0],"t":1500},{"vs":[177.0,65.0,29.0,11600.0,10.0],"t":1505},{"vs":[184.0,66.0,30.0,11600.0,10.0],"t":1510},{"vs":[234.0,76.0,33.0,11700.0,10.0],"t":1515},{"vs":[265.0,80.0,35.0,11700.0,10.0],"t":1520},{"vs":[236.0,76.0,33.0,11700.0,10.0],"t":1525},{"vs":[235.0,76.0,33.0,11800.0,10.0],"t":1530},{"vs":[129.0,54.0,25.0,11800.0,7.0],"t":1535},{"vs":[76.0,63.0,19.0,11900.0,7.0],"t":1540},{"vs":[75.0,64.0,19.0,11900.0,7.0],"t":1545},{"vs":[72.0,62.0,19.0,11900.0,7.0],"t":1550},{"vs":[75.0,64.0,19.0,11900.0,7.0],"t":1555},{"vs":[78.0,64.0,19.0,12000.0,7.0],"t":1560},{"vs":[78.0,67.0,19.0,12000.0,7.0],"t":1565},{"vs":[102.0,74.0,22.0,12000.0,7.0],"t":1570},{"vs":[112.0,77.0,23.0,12100.0,8.0],"t":1575},{"vs":[158.0,62.0,28.0,12100.0,10.0],"t":1580},{"vs":[161.0,62.0,28.0,12100.0,10.0],"t":1585},{"vs":[164.0,67.0,28.0,12200.0,10.0],"t":1590},{"vs":[200.0,71.0,31.0,12200.0,10.0],"t":1595},{"vs":[194.0,71.0,30.0,12300.0,10.0],"t":1600},{"vs":[256.0,80.0,34.0,12300.0,10.0],"t":1605},{"vs":[275.0,82.0,35.0,12400.0,10.0],"t":1610},{"vs":[261.0,79.0,34.0,12400.0,10.0],"t":1615},{"vs":[240.0,76.0,33.0,12500.0,10.0],"t":1620},{"vs":[144.0,60.0,26.0,12500.0,10.0],"t":1625},{"vs":[168.0,65.0,28.0,12500.0,10.0],"t":1630},{"vs":[133.0,59.0,25.0,12600.0,10.0],"t":1635},{"vs":[247.0,79.0,34.0,12600.0,10.0],"t":1640},{"vs":[156.0,55.0,27.0,12700.0,10.0],"t":1645},{"vs":[151.0,60.0,27.0,12700.0,10.0],"t":1650},{"vs":[149.0,62.0,27.0,12700.0,10.0],"t":1655},{"vs":[255.0,78.0,34.0,12800.0,10.0],"t":1660},{"vs":[227.0,75.0,32.0,12800.0,10.0],"t":1665},{"vs":[198.0,65.0,30.0,12900.0,10.0],"t":1670},{"vs":[112.0,57.0,23.0,12900.0,9.0],"t":1675},{"vs":[107.0,53.0,23.0,12900.0,9.0],"t":1680},{"vs":[95.0,50.0,22.0,13000.0,9.0],"t":1685},{"vs":[71.0,44.0,18.0,13000.0,10.0],"t":1690},{"vs":[114.0,42.0,24.0,13000.0,12.0],"t":1695},{"vs":[132.0,43.0,25.0,13100.0,12.0],"t":1700},{"vs":[144.0,45.0,26.0,13100.0,12.0],"t":1705},{"vs":[149.0,48.0,27.0,13100.0,12.0],"t":1710},{"vs":[149.0,45.0,27.0,13200.0,12.0],"t":1715},{"vs":[174.0,49.0,29.0,13200.0,13.0],"t":1720},{"vs":[176.0,47.0,29.0,13300.0,13.0],"t":1725},{"vs":[150.0,43.0,27.0,13300.0,13.0],"t":1730},{"vs":[190.0,43.0,30.0,13300.0,14.0],"t":1735},{"vs":[195.0,45.0,30.0,13400.0,14.0],"t":1740},{"vs":[212.0,46.0,31.0,13400.0,14.0],"t":1745},{"vs":[197.0,44.0,30.0,13500.0,14.0],"t":1750},{"vs":[212.0,43.0,31.0,13500.0,14.0],"t":1755},{"vs":[194.0,45.0,30.0,13600.0,14.0],"t":1760},{"vs":[183.0,42.0,29.0,13600.0,14.0],"t":1765},{"vs":[218.0,38.0,32.0,13600.0,15.0],"t":1770},{"vs":[186.0,40.0,30.0,13700.0,15.0],"t":1775},{"vs":[210.0,42.0,31.0,13700.0,15.0],"t":1780},{"vs":[273.0,41.0,35.0,13800.0,15.0],"t":1785},{"vs":[273.0,46.0,35.0,13800.0,15.0],"t":1790},{"vs":[228.0,43.0,32.0,13900.0,15.0],"t":1795},{"vs":[232.0,42.0,33.0,13900.0,15.0],"t":1800},{"vs":[138.0,41.0,26.0,13900.0,15.0],"t":1805},{"vs":[63.0,55.0,17.0,14000.0,7.0],"t":1810},{"vs":[78.0,67.0,19.0,14000.0,6.0],"t":1815},{"vs":[67.0,62.0,18.0,14000.0,6.0],"t":1820},{"vs":[63.0,59.0,17.0,14100.0,6.0],"t":1825},{"vs":[75.0,70.0,19.0,14100.0,6.0],"t":1830},{"vs":[109.0,79.0,23.0,14100.0,6.0],"t":1835},{"vs":[108.0,79.0,23.0,14100.0,6.0],"t":1840},{"vs":[103.0,84.0,22.0,14200.0,6.0],"t":1845},{"vs":[154.0,103.0,27.0,14200.0,6.0],"t":1850},{"vs":[210.0,120.0,31.0,14200.0,6.0],"t":1855},{"vs":[219.0,124.0,32.0,14300.0,6.0],"t":1860},{"vs":[223.0,127.0,32.0,14300.0,6.0],"t":1865},{"vs":[218.0,123.0,32.0,14400.0,6.0],"t":1870},{"vs":[210.0,111.0,31.0,14400.0,6.0],"t":1875},{"vs":[153.0,101.0,27.0,14500.0,6.0],"t":1880},{"vs":[143.0,98.0,26.0,14500.0,6.0],"t":1885},{"vs":[159.0,102.0,28.0,14500.0,6.0],"t":1890},{"vs":[144.0,96.0,26.0,14600.0,6.0],"t":1895},{"vs":[191.0,116.0,30.0,14600.0,6.0],"t":1900},{"vs":[204.0,121.0,31.0,14700.0,6.0],"t":1905},{"vs":[219.0,127.0,32.0,14700.0,6.0],"t":1910},{"vs":[246.0,131.0,33.0,14800.0,6.0],"t":1915},{"vs":[182.0,100.0,29.0,14800.0,6.0],"t":1920},{"vs":[158.0,104.0,28.0,14800.0,6.0],"t":1925},{"vs":[153.0,102.0,27.0,14900.0,6.0],"t":1930},{"vs":[148.0,99.0,27.0,14900.0,6.0],"t":1935},{"vs":[153.0,98.0,27.0,15000.0,6.0],"t":1940},{"vs":[89.0,65.0,21.0,15000.0,8.0],"t":1945},{"vs":[56.0,44.0,16.0,15000.0,9.0],"t":1950},{"vs":[89.0,48.0,21.0,15000.0,9.0],"t":1955},{"vs":[93.0,81.0,21.0,15100.0,6.0],"t":1960},{"vs":[145.0,110.0,26.0,15100.0,6.0],"t":1965},{"vs":[186.0,120.0,30.0,15100.0,6.0],"t":1970},{"vs":[193.0,117.0,30.0,15200.0,6.0],"t":1975},{"vs":[194.0,119.0,30.0,15200.0,6.0],"t":1980},{"vs":[197.0,113.0,30.0,15300.0,6.0],"t":1985},{"vs":[122.0,93.0,24.0,15300.0,6.0],"t":1990},{"vs":[123.0,89.0,25.0,15400.0,6.0],"t":1995},{"vs":[166.0,107.0,28.0,15400.0,6.0],"t":2000},{"vs":[168.0,106.0,28.0,15400.0,6.0],"t":2005},{"vs":[236.0,140.0,33.0,15500.0,6.0],"t":2010},{"vs":[306.0,154.0,37.0,15500.0,6.0],"t":2015},{"vs":[291.0,146.0,36.0,15600.0,6.0],"t":2020},{"vs":[267.0,133.0,35.0,15600.0,6.0],"t":2025},{"vs":[188.0,94.0,30.0,15700.0,6.0],"t":2030},{"vs":[127.0,90.0,25.0,15700.0,6.0],"t":2035},{"vs":[118.0,87.0,24.0,15700.0,6.0],"t":2040},{"vs":[109.0,82.0,23.0,15800.0,6.0],"t":2045},{"vs":[123.0,87.0,25.0,15800.0,6.0],"t":2050},{"vs":[101.0,71.0,22.0,15800.0,7.0],"t":2055},{"vs":[71.0,60.0,18.0,15900.0,7.0],"t":2060},{"vs":[69.0,60.0,18.0,15900.0,7.0],"t":2065},{"vs":[53.0,50.0,16.0,15900.0,7.0],"t":2070},{"vs":[92.0,52.0,21.0,15900.0,10.0],"t":2075},{"vs":[92.0,36.0,21.0,16000.0,13.0],"t":2080},{"vs":[138.0,34.0,26.0,16000.0,13.0],"t":2085},{"vs":[142.0,38.0,26.0,16000.0,13.0],"t":2090},{"vs":[146.0,40.0,27.0,16100.0,13.0],"t":2095},{"vs":[169.0,39.0,28.0,16100.0,13.0],"t":2100},{"vs":[148.0,35.0,27.0,16100.0,13.0],"t":2105},{"vs":[148.0,34.0,27.0,16200.0,13.0],"t":2110},{"vs":[136.0,35.0,26.0,16200.0,13.0],"t":2115},{"vs":[156.0,35.0,27.0,16200.0,14.0],"t":2120},{"vs":[155.0,39.0,27.0,16300.0,14.0],"t":2125},{"vs":[164.0,33.0,28.0,16300.0,14.0],"t":2130},{"vs":[189.0,39.0,30.0,16300.0,14.0],"t":2135},{"vs":[151.0,43.0,27.0,16400.0,14.0],"t":2140},{"vs":[159.0,42.0,28.0,16400.0,14.0],"t":2145},{"vs":[171.0,41.0,29.0,16500.0,14.0],"t":2150},{"vs":[146.0,38.0,27.0,16500.0,14.0],"t":2155},{"vs":[173.0,34.0,29.0,16500.0,14.0],"t":2160},{"vs":[143.0,39.0,26.0,16600.0,14.0],"t":2165},{"vs":[151.0,39.0,27.0,16600.0,14.0],"t":2170},{"vs":[143.0,37.0,26.0,16700.0,14.0],"t":2175},{"vs":[161.0,35.0,28.0,16700.0,14.0],"t":2180},{"vs":[153.0,34.0,27.0,16700.0,14.0],"t":2185},{"vs":[177.0,34.0,29.0,16800.0,14.0],"t":2190},{"vs":[150.0,38.0,27.0,16800.0,14.0],"t":2195},{"vs":[188.0,36.0,30.0,16900.0,14.0],"t":2200},{"vs":[190.0,35.0,30.0,16900.0,14.0],"t":2205},{"vs":[189.0,37.0,30.0,16900.0,14.0],"t":2210},{"vs":[164.0,41.0,28.0,17000.0,14.0],"t":2215},{"vs":[200.0,39.0,31.0,17000.0,14.0],"t":2220},{"vs":[138.0,39.0,26.0,17100.0,14.0],"t":2225},{"vs":[148.0,39.0,27.0,17100.0,14.0],"t":2230},{"vs":[140.0,35.0,26.0,17100.0,14.0],"t":2235},{"vs":[143.0,37.0,26.0,17200.0,14.0],"t":2240},{"vs":[47.0,41.0,14.0,17200.0,7.0],"t":2245},{"vs":[44.0,53.0,14.0,17200.0,6.0],"t":2250},{"vs":[45.0,51.0,14.0,17300.0,6.0],"t":2255},{"vs":[40.0,49.0,13.0,17300.0,6.0],"t":2260},{"vs":[39.0,54.0,13.0,17300.0,6.0],"t":2265},{"vs":[47.0,54.0,14.0,17300.0,6.0],"t":2270},{"vs":[55.0,56.0,16.0,17300.0,6.0],"t":2275},{"vs":[31.0,46.0,11.0,17400.0,6.0],"t":2280},{"vs":[45.0,54.0,14.0,17400.0,6.0],"t":2285},{"vs":[55.0,59.0,16.0,17400.0,6.0],"t":2290},{"vs":[60.0,66.0,17.0,17400.0,6.0],"t":2295},{"vs":[70.0,68.0,18.0,17400.0,6.0],"t":2300},{"vs":[67.0,66.0,18.0,17500.0,6.0],"t":2305},{"vs":[78.0,71.0,19.0,17500.0,7.0],"t":2310},{"vs":[96.0,72.0,22.0,17500.0,7.0],"t":2315},{"vs":[112.0,77.0,23.0,17600.0,7.0],"t":2320},{"vs":[98.0,70.0,22.0,17600.0,7.0],"t":2325},{"vs":[76.0,60.0,19.0,17600.0,7.0],"t":2330},{"vs":[87.0,67.0,21.0,17600.0,7.0],"t":2335},{"vs":[71.0,58.0,18.0,17700.0,7.0],"t":2340},{"vs":[79.0,64.0,20.0,17700.0,7.0],"t":2345},{"vs":[87.0,68.0,21.0,17700.0,7.0],"t":2350},{"vs":[80.0,60.0,20.0,17800.0,7.0],"t":2355},{"vs":[94.0,68.0,21.0,17800.0,7.0],"t":2360},{"vs":[90.0,67.0,21.0,17800.0,7.0],"t":2365},{"vs":[89.0,68.0,21.0,17800.0,7.0],"t":2370},{"vs":[85.0,65.0,20.0,17900.0,7.0],"t":2375},{"vs":[91.0,70.0,21.0,17900.0,7.0],"t":2380},{"vs":[79.0,59.0,20.0,17900.0,7.0],"t":2385},{"vs":[116.0,78.0,24.0,18000.0,7.0],"t":2390},{"vs":[115.0,78.0,24.0,18000.0,7.0],"t":2395},{"vs":[102.0,71.0,22.0,18000.0,7.0],"t":2400},{"vs":[85.0,62.0,20.0,18100.0,7.0],"t":2405},{"vs":[89.0,73.0,21.0,18100.0,7.0],"t":2410},{"vs":[89.0,66.0,21.0,18100.0,7.0],"t":2415},{"vs":[75.0,65.0,19.0,18100.0,7.0],"t":2420},{"vs":[91.0,67.0,21.0,18200.0,7.0],"t":2425},{"vs":[100.0,73.0,22.0,18200.0,7.0],"t":2430},{"vs":[110.0,76.0,23.0,18200.0,7.0],"t":2435},{"vs":[120.0,79.0,24.0,18300.0,7.0],"t":2440},{"vs":[122.0,84.0,24.0,18300.0,7.0],"t":2445},{"vs":[112.0,75.0,23.0,18300.0,7.0],"t":2450},{"vs":[127.0,84.0,25.0,18400.0,7.0],"t":2455},{"vs":[129.0,82.0,25.0,18400.0,7.0],"t":2460},{"vs":[134.0,85.0,26.0,18400.0,7.0],"t":2465},{"vs":[136.0,86.0,26.0,18500.0,7.0],"t":2470},{"vs":[131.0,85.0,25.0,18500.0,7.0],"t":2475},{"vs":[137.0,85.0,26.0,18600.0,7.0],"t":2480},{"vs":[131.0,83.0,25.0,18600.0,8.0],"t":2485},{"vs":[159.0,74.0,28.0,18600.0,9.0],"t":2490},{"vs":[200.0,81.0,31.0,18700.0,9.0],"t":2495},{"vs":[216.0,86.0,32.0,18700.0,9.0],"t":2500},{"vs":[217.0,83.0,32.0,18800.0,9.0],"t":2505},{"vs":[211.0,85.0,31.0,18800.0,9.0],"t":2510},{"vs":[220.0,88.0,32.0,18800.0,9.0],"t":2515},{"vs":[224.0,86.0,32.0,18900.0,9.0],"t":2520},{"vs":[197.0,80.0,30.0,18900.0,9.0],"t":2525},{"vs":[190.0,78.0,30.0,19000.0,9.0],"t":2530},{"vs":[197.0,79.0,30.0,19000.0,9.0],"t":2535},{"vs":[201.0,82.0,31.0,19100.0,9.0],"t":2540},{"vs":[176.0,71.0,29.0,19100.0,9.0],"t":2545},{"vs":[120.0,51.0,24.0,19100.0,10.0],"t":2550},{"vs":[134.0,57.0,26.0,19200.0,10.0],"t":2555},{"vs":[155.0,60.0,27.0,19200.0,10.0],"t":2560},{"vs":[204.0,70.0,31.0,19300.0,10.0],"t":2565},{"vs":[184.0,64.0,30.0,19300.0,10.0],"t":2570},{"vs":[204.0,68.0,31.0,19300.0,10.0],"t":2575},{"vs":[223.0,74.0,32.0,19400.0,10.0],"t":2580},{"vs":[161.0,64.0,28.0,19400.0,10.0],"t":2585},{"vs":[152.0,59.0,27.0,19500.0,10.0],"t":2590},{"vs":[150.0,56.0,27.0,19500.0,10.0],"t":2595},{"vs":[130.0,38.0,25.0,19500.0,10.0],"t":2600},{"vs":[80.0,40.0,20.0,19600.0,10.0],"t":2605},{"vs":[77.0,43.0,19.0,19600.0,10.0],"t":2610},{"vs":[94.0,46.0,21.0,19600.0,10.0],"t":2615},{"vs":[96.0,44.0,22.0,19700.0,10.0],"t":2620},{"vs":[191.0,69.0,30.0,19700.0,10.0],"t":2625},{"vs":[186.0,66.0,30.0,19700.0,10.0],"t":2630},{"vs":[233.0,75.0,33.0,19800.0,10.0],"t":2635},{"vs":[219.0,72.0,32.0,19800.0,10.0],"t":2640},{"vs":[149.0,52.0,27.0,19900.0,10.0],"t":2645},{"vs":[144.0,54.0,26.0,19900.0,11.0],"t":2650},{"vs":[174.0,57.0,29.0,20000.0,11.0],"t":2655},{"vs":[171.0,54.0,29.0,20000.0,11.0],"t":2660},{"vs":[177.0,59.0,29.0,20000.0,11.0],"t":2665},{"vs":[189.0,60.0,30.0,20100.0,11.0],"t":2670},{"vs":[185.0,62.0,30.0,20100.0,11.0],"t":2675},{"vs":[197.0,63.0,30.0,20200.0,11.0],"t":2680},{"vs":[228.0,72.0,32.0,20200.0,11.0],"t":2685},{"vs":[240.0,63.0,33.0,20300.0,11.0],"t":2690},{"vs":[144.0,61.0,26.0,20300.0,10.0],"t":2695},{"vs":[226.0,73.0,32.0,20300.0,10.0],"t":2700},{"vs":[219.0,73.0,32.0,20400.0,10.0],"t":2705},{"vs":[174.0,71.0,29.0,20400.0,9.0],"t":2710},{"vs":[206.0,74.0,31.0,20500.0,9.0],"t":2715},{"vs":[168.0,83.0,28.0,20500.0,8.0],"t":2720},{"vs":[229.0,94.0,32.0,20500.0,8.0],"t":2725},{"vs":[186.0,84.0,30.0,20600.0,8.0],"t":2730},{"vs":[175.0,91.0,29.0,20600.0,8.0],"t":2735},{"vs":[216.0,100.0,32.0,20700.0,8.0],"t":2740},{"vs":[212.0,96.0,31.0,20700.0,8.0],"t":2745},{"vs":[112.0,86.0,23.0,20800.0,6.0],"t":2750},{"vs":[97.0,78.0,22.0,20800.0,7.0],"t":2755},{"vs":[96.0,70.0,22.0,20800.0,7.0],"t":2760},{"vs":[94.0,72.0,21.0,20900.0,7.0],"t":2765},{"vs":[100.0,72.0,22.0,20900.0,7.0],"t":2770},{"vs":[102.0,73.0,22.0,20900.0,7.0],"t":2775},{"vs":[99.0,70.0,22.0,20900.0,7.0],"t":2780},{"vs":[101.0,77.0,22.0,21000.0,7.0],"t":2785},{"vs":[144.0,91.0,26.0,21000.0,7.0],"t":2790},{"vs":[138.0,89.0,26.0,21000.0,7.0],"t":2795},{"vs":[143.0,90.0,26.0,21100.0,7.0],"t":2800},{"vs":[147.0,91.0,27.0,21100.0,7.0],"t":2805},{"vs":[149.0,92.0,27.0,21200.0,7.0],"t":2810},{"vs":[162.0,89.0,28.0,21200.0,8.0],"t":2815},{"vs":[201.0,95.0,31.0,21200.0,8.0],"t":2820},{"vs":[201.0,94.0,31.0,21300.0,8.0],"t":2825},{"vs":[197.0,92.0,30.0,21300.0,8.0],"t":2830},{"vs":[175.0,87.0,29.0,21400.0,8.0],"t":2835},{"vs":[175.0,88.0,29.0,21400.0,8.0],"t":2840},{"vs":[181.0,89.0,29.0,21500.0,8.0],"t":2845},{"vs":[167.0,85.0,28.0,21500.0,8.0],"t":2850},{"vs":[199.0,92.0,31.0,21500.0,8.0],"t":2855},{"vs":[182.0,90.0,29.0,21600.0,8.0],"t":2860},{"vs":[209.0,94.0,31.0,21600.0,8.0],"t":2865},{"vs":[213.0,96.0,31.0,21700.0,8.0],"t":2870},{"vs":[184.0,89.0,30.0,21700.0,8.0],"t":2875},{"vs":[179.0,88.0,29.0,21700.0,8.0],"t":2880},{"vs":[158.0,84.0,28.0,21800.0,8.0],"t":2885},{"vs":[178.0,90.0,29.0,21800.0,8.0],"t":2890},{"vs":[191.0,91.0,30.0,21900.0,8.0],"t":2895},{"vs":[174.0,87.0,29.0,21900.0,8.0],"t":2900},{"vs":[177.0,85.0,29.0,22000.0,8.0],"t":2905},{"vs":[174.0,86.0,29.0,22000.0,8.0],"t":2910},{"vs":[175.0,86.0,29.0,22000.0,8.0],"t":2915},{"vs":[179.0,91.0,29.0,22100.0,8.0],"t":2920},{"vs":[207.0,95.0,31.0,22100.0,8.0],"t":2925},{"vs":[210.0,95.0,31.0,22200.0,8.0],"t":2930},{"vs":[221.0,99.0,32.0,22200.0,8.0],"t":2935},{"vs":[202.0,92.0,31.0,22300.0,8.0],"t":2940},{"vs":[207.0,96.0,31.0,22300.0,8.0],"t":2945},{"vs":[217.0,96.0,32.0,22300.0,8.0],"t":2950},{"vs":[222.0,98.0,32.0,22400.0,8.0],"t":2955},{"vs":[210.0,97.0,31.0,22400.0,8.0],"t":2960},{"vs":[207.0,95.0,31.0,22500.0,8.0],"t":2965},{"vs":[179.0,88.0,29.0,22500.0,8.0],"t":2970},{"vs":[178.0,85.0,29.0,22600.0,8.0],"t":2975},{"vs":[184.0,85.0,30.0,22600.0,8.0],"t":2980},{"vs":[186.0,85.0,30.0,22600.0,8.0],"t":2985},{"vs":[173.0,88.0,29.0,22700.0,8.0],"t":2990},{"vs":[185.0,90.0,30.0,22700.0,8.0],"t":2995},{"vs":[185.0,86.0,30.0,22800.0,8.0],"t":3000}],"classBuilderOffset":-73},"equipmentType":"UprightBike","cardioLogId":"61a365b2dd5ca2137c1cc695","favorite":0,"name":"S p i r i t - X","date":"28.11.2021","target":"Duration","nEser":0,"nAttr":995,"physicalActivityId":"45456dbb-3e9e-4398-889b-2ff196957d31","physicalActivityName":"S p i r i t - X","data":[{"property":"Duration","name":"Продолжительность","value":"53:38","uM":"мин.","rawValue":53.63},{"property":"HDistance","name":"Расстояние","value":"23,4","uM":"км","rawValue":23.4},{"property":"Move","name":"MOVEs","value":"1306","uM":"MOVEs","rawValue":1306.0}]},"token":"MjAyMTExMjgxMjMwMTJ8NWFmMjM4NWJkNjY4NGE3Mjk3OTdhODRlM2I0NDAzMmN8ZWMxZDM4ZDdkMzU5NDhkMGE2MGNkOGMwYjhmYjlkZjl8MTR8UnVzc2lhbiBTdGFuZGFyZCBUaW1lfHJ1LVJVfDA3MjcwMTAxODMwMTQ1ZjBhNGEzNzY1YTExODM5OWYxfHx8fDF8MXwwfDEwMHx8fDB8NDYxNXwwfGNvbS5teXdlbGxuZXNz0.137B42B1DCD2EDCE5843FB6BE7AC8D012D6C915CFD1D13001682DF03B63DFC916916968FFE5B63F3800F393D8119DD4C8D8A80EE3102E0BD1DB57642AE931810","version":"1.1.130.22043","expireIn":31104000}';

echo createXML(parseJson($testJson));

function parseJson($testJson) : array {
    $jsonArr = json_decode($testJson, true);


    return $jsonArr['data']['analitics'];
}

function createXML(array $json) : string {
    $startDateTime = (new DateTime());
    $keys = [
        'pow' => 0,
        'rpm' => 1,
        'spd' => 2,
        'dst' => 3,
        'lvl' => 4,

    ];

    $doc = new DOMDocument('1.0', "UTF-8");

    $root = $doc->createElementNS(TDC_NS, 'TrainingCenterDatabase');
    $doc->appendChild($root);

    $activities = $doc->createElement('Activities');

    $sportAttr = $doc->createAttribute('Sport');
    $sportAttr->value = 'Biking';
    $activity = $doc->createElement('Activity');
    $activity->setAttributeNode($sportAttr);

    $id = $doc->createElement('Id', $startDateTime->format(DT_FORMAT));
    $activity->appendChild($id);

    $startAttr = $doc->createAttribute('StartTime');
    $startAttr->value = $startDateTime->format(DT_FORMAT);
    $activity->appendChild($startAttr);

    $lap = $doc->createElement('Lap');
    $lap->setAttributeNode($startAttr);

    $track = $doc->createElement('Track');

    $lap->appendChild($track);
    $activity->appendChild($lap);
    $activities->appendChild($activity);
    $root->appendChild($activities);

    foreach ($json['samples'] as $sample) {
        $trackPoint = $doc->createElement('TrackPoint');
        $track->appendChild($trackPoint);

        $pointDateTime = clone ($startDateTime);
        $trackPoint->appendChild($doc->createElement('Time', $pointDateTime->modify('+ ' . $sample['t'] . 'seconds')->format(DT_FORMAT)));
        $trackPoint->appendChild($doc->createElement('DistanceMeters', $sample['vs'][$keys['dst']] . '.0'));
        $trackPoint->appendChild($doc->createElement('Cadence',$sample['vs'][$keys['rpm']] . '.0'));

        $extensions = $doc->createElement('Extensions');
        $trackPoint->appendChild($extensions);

        $tpx = $doc->createElementNS(TPX_NS, 'TPX');
        $tpx->appendChild($doc->createElement('Speed', kmh2ms($sample['vs'][$keys['spd']])));
        $tpx->appendChild($doc->createElement('Watts', $sample['vs'][$keys['pow']] . '.0'));
        $extensions->appendChild($tpx);

    }

    return $doc->saveXML();
}

function kmh2ms($kmh, $precision = 10) {
    return round($kmh * 1000 / (60*60), $precision);
}

function calculateDist() {
    //todo
}